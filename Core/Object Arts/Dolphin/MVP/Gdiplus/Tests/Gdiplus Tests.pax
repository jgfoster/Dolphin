| package |
package := Package name: 'Gdiplus Tests'.
package paxVersion: 2;
	preDeclareClassesOnLoad: false;
	basicComment: 'Dolphin Smalltalk GDI+ Binding tests

'.

package basicPackageVersion: '6.1'.


package setClassNames: #(
	#{GdiplusAdjustableArrowCapTest}
	#{GdiplusBaseTest}
	#{GdiplusBitmapFromBitmapInitializerTest}
	#{GdiplusBitmapFromBlankInitializerTest}
	#{GdiplusBitmapFromFileInitializerTest}
	#{GdiplusBitmapFromIconInitializerTest}
	#{GdiplusBitmapFromIStreamInitializerTest}
	#{GdiplusBitmapTest}
	#{GdiplusCustomLineCapTest}
	#{GdiplusExamplesTest}
	#{GdiplusFileResource}
	#{GdiplusGraphicsFromHDCInitializerTest}
	#{GdiplusGraphicsFromImageInitializerTest}
	#{GdiplusGraphicsPathTest}
	#{GdiplusGraphicsTest}
	#{GdiplusHatchBrushTest}
	#{GdiplusImageAttributesInitializerTest}
	#{GdiplusImageFromFileInitializerTest}
	#{GdiplusImageFromIStreamInitializerTest}
	#{GdiplusImageTest}
	#{GdiplusImageTests}
	#{GdiplusInitializerTest}
	#{GdiplusInitializerTests}
	#{GdiplusLinearGradientBrushFromPointsInitializerTest}
	#{GdiplusLinearGradientBrushFromRectInitializerTest}
	#{GdiplusLinearGradientBrushTest}
	#{GdiplusPathGradientBrushTest}
	#{GdiplusPenFromBrushInitializerTest}
	#{GdiplusPenFromColorInitializerTest}
	#{GdiplusPenTest}
	#{GdiplusSolidBrushFromColorInitializerTest}
	#{GdiplusTestInitializer}
	#{GdiplusTests}
	#{GpColorMatrixTest}
	#{POINTFTest}
	#{RECTFTest}
).

package setMethodNames: #(
	#(#{Bitmap} #hdc)
	#(#{Bitmap class} #gdipCopyOfIcon:extent:backcolor:)
	#(#{Bitmap class} #gdipCopyOfImageIndex:extent:backcolor:)
).

package setPrerequisites: #(
	'..\..\..\Base\Dolphin'
	'..\..\Base\Dolphin Basic Geometry'
	'..\..\Base\Dolphin MVP Base'
	'..\..\Dolphin MVP Tests'
	'..\Gdiplus'
	'..\..\..\ActiveX\Structured Storage\OLE Structured Storage'
	'..\..\..\..\..\Contributions\Camp Smalltalk\SUnit\SUnit'
	'..\..\..\ActiveX\Shell\Windows Shell'
).

package!

"Class Definitions"!

GdiplusInitializer subclass: #GdiplusTestInitializer
	instanceVariableNames: 'mockHandle arg1'
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
TestCase subclass: #GdiplusTests
	instanceVariableNames: 'model'
	classVariableNames: ''
	poolDictionaries: 'GdiplusConstants'
	classInstanceVariableNames: ''
	classConstants: {}!
ExternalPointTest subclass: #POINTFTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
ExternalRectangleTest subclass: #RECTFTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusTests subclass: #GdiplusAdjustableArrowCapTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusTests subclass: #GdiplusBaseTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusTests subclass: #GdiplusCustomLineCapTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusTests subclass: #GdiplusExamplesTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusTests subclass: #GdiplusGraphicsPathTest
	instanceVariableNames: 'fillMode'
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusTests subclass: #GdiplusGraphicsTest
	instanceVariableNames: 'bitmap graphics canvas'
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusTests subclass: #GdiplusHatchBrushTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusTests subclass: #GdiplusImageTests
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusTests subclass: #GdiplusInitializerTests
	instanceVariableNames: 'constructorArgs'
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusTests subclass: #GdiplusLinearGradientBrushTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusTests subclass: #GdiplusPathGradientBrushTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusTests subclass: #GdiplusPenTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusTests subclass: #GpColorMatrixTest
	instanceVariableNames: 'matrix'
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusImageTests subclass: #GdiplusBitmapTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusImageTests subclass: #GdiplusImageTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusInitializerTests subclass: #GdiplusBitmapFromBitmapInitializerTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusInitializerTests subclass: #GdiplusBitmapFromBlankInitializerTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusInitializerTests subclass: #GdiplusBitmapFromFileInitializerTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusInitializerTests subclass: #GdiplusBitmapFromIconInitializerTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusInitializerTests subclass: #GdiplusBitmapFromIStreamInitializerTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusInitializerTests subclass: #GdiplusGraphicsFromHDCInitializerTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusInitializerTests subclass: #GdiplusGraphicsFromImageInitializerTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusInitializerTests subclass: #GdiplusImageAttributesInitializerTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusInitializerTests subclass: #GdiplusImageFromFileInitializerTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusInitializerTests subclass: #GdiplusImageFromIStreamInitializerTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusInitializerTests subclass: #GdiplusInitializerTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusInitializerTests subclass: #GdiplusLinearGradientBrushFromPointsInitializerTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusInitializerTests subclass: #GdiplusLinearGradientBrushFromRectInitializerTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusInitializerTests subclass: #GdiplusPenFromBrushInitializerTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusInitializerTests subclass: #GdiplusPenFromColorInitializerTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
GdiplusInitializerTests subclass: #GdiplusSolidBrushFromColorInitializerTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
TestResource subclass: #GdiplusFileResource
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!

"Loose Methods"!

!Bitmap methodsFor!

hdc
	"Private - Unit test helper"

	^hdc! !
!Bitmap categoriesFor: #hdc!private!test accessing! !

!Bitmap class methodsFor!

gdipCopyOfIcon: anIcon extent: extent backcolor: aColor
	"Helper method ... quick way to construct a Bitmap"

	^self 
		gdipCopyOfImageIndex: anIcon imageIndex
		extent: extent
		backcolor: aColor!

gdipCopyOfImageIndex: anIndex extent: extent backcolor: aColor
	"Helper method ... quick way to construct a Bitmap"

	| canvas bmp |
	bmp := self displayCompatibleWithExtent: extent.
	canvas := bmp canvas.
	"Quickest way to erase to a system colour"
	canvas fillRectangle: (RECT 
				left: 0
				top: 0
				right: extent x
				bottom: extent y)
		brush: aColor brush.
	(Icon imageManager imageListWithExtent: extent) 
		draw: anIndex
		on: canvas
		at: 0 @ 0
		flags: 0.
	bmp freeDC.
	^bmp! !
!Bitmap class categoriesFor: #gdipCopyOfIcon:extent:backcolor:!instance creation!public! !
!Bitmap class categoriesFor: #gdipCopyOfImageIndex:extent:backcolor:!instance creation!public! !

"End of package definition"!

