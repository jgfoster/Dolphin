| package |
package := Package name: 'Dolphin Common Controls'.
package paxVersion: 2;
	preDeclareClassesOnLoad: false;
	basicComment: 'Dolphin Smalltalk Common Controls.
Copyright (c) Object Arts Ltd, 1997-2018. Portions Copyright (c) CGI Group (Europe) Ltd, 1996.

This package contains MVP View wrappers for the standard Windows common controls (e.g. the Enhanced List View, Tab View, and Tree View). The other less commonly used common controls are separately packaged.'.

package basicPackageVersion: '6.2'.


package setClassNames: #(
	#{CCHITTESTINFO}
	#{CCITEM}
	#{IconicListAbstract}
	#{ListView}
	#{ListViewColumn}
	#{LVBKIMAGEW}
	#{LVCOLUMNW}
	#{LVFINDINFOW}
	#{LVHITTESTINFO}
	#{LVITEMW}
	#{NMCUSTOMDRAW}
	#{NMGETINFOTIP}
	#{NMITEMACTIVATE}
	#{NMKEYDOWN}
	#{NMLISTVIEW}
	#{NMLVCUSTOMDRAW}
	#{NMLVFINDITEMW}
	#{NMLVGETINFOTIPW}
	#{NMLVODSTATECHANGE}
	#{NMTREEVIEWW}
	#{NMTVCUSTOMDRAW}
	#{NMTVGETINFOTIPW}
	#{TabView}
	#{TabViewXP}
	#{TCHITTESTINFO}
	#{TCITEMW}
	#{TreeView}
	#{TVHITTESTINFO}
	#{TVINSERTSTRUCTW}
	#{TVITEMEXW}
	#{TVITEMW}
).

package setMethodNames: #(
	#(#{FolderPresenter class} #resource_Default_view)
	#(#{ListPresenter class} #resource_Enhanced_list_view)
	#(#{ListPresenter class} #resource_Tab_view)
).

package setVariableNames: #(
	#{ListViewConstants}
	#{TabViewConstants}
	#{TreeViewConstants}
).

package setPrerequisites: #(
	'..\..\..\Base\Dolphin'
	'..\..\Base\Dolphin Basic Geometry'
	'..\..\..\Base\Dolphin Conformant Array Fields'
	'..\..\Presenters\Folder\Dolphin Folder Presenter'
	'..\..\Models\List\Dolphin List Models'
	'..\..\Presenters\List\Dolphin List Presenter'
	'..\..\Base\Dolphin MVP Base'
	'..\..\Models\Tree\Dolphin Tree Models'
).

package!

"Class Definitions"!

Object subclass: #ListViewColumn
	instanceVariableNames: 'text width alignment getTextBlock getSortValueBlock getContentsBlock name parent getImageBlock flags getInfoTipBlock customDrawBlock'
	classVariableNames: ''
	poolDictionaries: 'ListViewConstants'
	classInstanceVariableNames: ''
	classConstants: {
		'AutoResizeMask' -> 16r1.
		'SortInvertedMask' -> 16r2
	}!
Win32Structure subclass: #CCHITTESTINFO
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: 'CommCtrlConstants'
	classInstanceVariableNames: ''
	classConstants: {
		'_OffsetOf_flags' -> 16r8.
		'_OffsetOf_pt' -> 16r0
	}!
Win32Structure subclass: #CCITEM
	instanceVariableNames: 'text'
	classVariableNames: ''
	poolDictionaries: 'CommCtrlConstants'
	classInstanceVariableNames: ''
	classConstants: {
		'_OffsetOf_mask' -> 16r0
	}!
Win32Structure subclass: #LVBKIMAGEW
	instanceVariableNames: 'buf'
	classVariableNames: ''
	poolDictionaries: 'ListViewConstants'
	classInstanceVariableNames: ''
	classConstants: {
		'_OffsetOf_cchImageMax' -> 16rC.
		'_OffsetOf_hbm' -> 16r4.
		'_OffsetOf_pszImage' -> 16r8.
		'_OffsetOf_ulFlags' -> 16r0.
		'_OffsetOf_xOffsetPercent' -> 16r10.
		'_OffsetOf_yOffsetPercent' -> 16r14
	}!
Win32Structure subclass: #LVCOLUMNW
	instanceVariableNames: 'text'
	classVariableNames: 'AlignmentMap'
	poolDictionaries: 'ListViewConstants'
	classInstanceVariableNames: ''
	classConstants: {
		'_OffsetOf_cchTextMax' -> 16r10.
		'_OffsetOf_cx' -> 16r8.
		'_OffsetOf_cxDefault' -> 16r24.
		'_OffsetOf_cxIdeal' -> 16r28.
		'_OffsetOf_cxMin' -> 16r20.
		'_OffsetOf_fmt' -> 16r4.
		'_OffsetOf_iImage' -> 16r18.
		'_OffsetOf_iOrder' -> 16r1C.
		'_OffsetOf_iSubItem' -> 16r14.
		'_OffsetOf_mask' -> 16r0.
		'_OffsetOf_pszText' -> 16rC
	}!
Win32Structure subclass: #LVFINDINFOW
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: 'ListViewConstants'
	classInstanceVariableNames: ''
	classConstants: {
		'_OffsetOf_flags' -> 16r0.
		'_OffsetOf_lParam' -> 16r8.
		'_OffsetOf_psz' -> 16r4.
		'_OffsetOf_pt' -> 16rC.
		'_OffsetOf_vkDirection' -> 16r14
	}!
Win32Structure subclass: #TVINSERTSTRUCTW
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {
		'_OffsetOf_hInsertAfter' -> 16r4.
		'_OffsetOf_hParent' -> 16r0.
		'_OffsetOf_item' -> 16r8
	}!
CCHITTESTINFO subclass: #LVHITTESTINFO
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: 'ListViewConstants'
	classInstanceVariableNames: ''
	classConstants: {
		'_OffsetOf_iItem' -> 16rC.
		'_OffsetOf_iSubItem' -> 16r10
	}!
CCHITTESTINFO subclass: #TCHITTESTINFO
	instanceVariableNames: 'iItem'
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
CCHITTESTINFO subclass: #TVHITTESTINFO
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {
		'_OffsetOf_hItem' -> 16rC
	}!
CCITEM subclass: #LVITEMW
	instanceVariableNames: ''
	classVariableNames: 'CallbackPrototype'
	poolDictionaries: 'ListViewConstants'
	classInstanceVariableNames: ''
	classConstants: {
		'_OffsetOf_cchTextMax' -> 16r18.
		'_OffsetOf_cColumns' -> 16r2C.
		'_OffsetOf_dwState' -> 16rC.
		'_OffsetOf_iGroup' -> 16r38.
		'_OffsetOf_iGroupId' -> 16r28.
		'_OffsetOf_iImage' -> 16r1C.
		'_OffsetOf_iIndent' -> 16r24.
		'_OffsetOf_iItem' -> 16r4.
		'_OffsetOf_iSubItem' -> 16r8.
		'_OffsetOf_lParam' -> 16r20.
		'_OffsetOf_piColFmt' -> 16r34.
		'_OffsetOf_pszText' -> 16r14.
		'_OffsetOf_puColumns' -> 16r30.
		'_OffsetOf_stateMask' -> 16r10
	}!
CCITEM subclass: #TCITEMW
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: 'TabViewConstants'
	classInstanceVariableNames: ''
	classConstants: {
		'_OffsetOf_cchTextMax' -> 16r10.
		'_OffsetOf_dwState' -> 16r4.
		'_OffsetOf_iImage' -> 16r14.
		'_OffsetOf_lParam' -> 16r18.
		'_OffsetOf_pszText' -> 16rC.
		'_OffsetOf_stateMask' -> 16r8
	}!
CCITEM subclass: #TVITEMW
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: 'TreeViewConstants'
	classInstanceVariableNames: ''
	classConstants: {
		'_OffsetOf_cChildren' -> 16r20.
		'_OffsetOf_cchTextMax' -> 16r14.
		'_OffsetOf_dwState' -> 16r8.
		'_OffsetOf_hItem' -> 16r4.
		'_OffsetOf_iImage' -> 16r18.
		'_OffsetOf_iSelectedImage' -> 16r1C.
		'_OffsetOf_lParam' -> 16r24.
		'_OffsetOf_pszText' -> 16r10.
		'_OffsetOf_stateMask' -> 16rC
	}!
TVITEMW subclass: #TVITEMEXW
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {
		'_OffsetOf_hwnd' -> 16r30.
		'_OffsetOf_iExpandedImage' -> 16r34.
		'_OffsetOf_iIntegral' -> 16r28.
		'_OffsetOf_uStateEx' -> 16r2C
	}!
NMHDR subclass: #NMCUSTOMDRAW
	instanceVariableNames: 'item view canvas font'
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {
		'_OffsetOf_dwDrawStage' -> 16rC.
		'_OffsetOf_dwItemSpec' -> 16r24.
		'_OffsetOf_hdc' -> 16r10.
		'_OffsetOf_lParam' -> 16r2C.
		'_OffsetOf_rc' -> 16r14.
		'_OffsetOf_uItemState' -> 16r28
	}!
NMHDR subclass: #NMGETINFOTIP
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
NMHDR subclass: #NMITEMACTIVATE
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {
		'_OffsetOf_iItem' -> 16rC.
		'_OffsetOf_iSubItem' -> 16r10.
		'_OffsetOf_lParam' -> 16r28.
		'_OffsetOf_ptAction' -> 16r20.
		'_OffsetOf_uChanged' -> 16r1C.
		'_OffsetOf_uKeyFlags' -> 16r2C.
		'_OffsetOf_uNewState' -> 16r14.
		'_OffsetOf_uOldState' -> 16r18
	}!
NMHDR subclass: #NMKEYDOWN
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {
		'_OffsetOf_flags' -> 16r10.
		'_OffsetOf_wVKey' -> 16rC
	}!
NMHDR subclass: #NMLISTVIEW
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {
		'_OffsetOf_iItem' -> 16rC.
		'_OffsetOf_iSubItem' -> 16r10.
		'_OffsetOf_lParam' -> 16r28.
		'_OffsetOf_ptAction' -> 16r20.
		'_OffsetOf_uChanged' -> 16r1C.
		'_OffsetOf_uNewState' -> 16r14.
		'_OffsetOf_uOldState' -> 16r18
	}!
NMHDR subclass: #NMLVFINDITEMW
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {
		'_OffsetOf_iStart' -> 16rC.
		'_OffsetOf_lvfi' -> 16r10
	}!
NMHDR subclass: #NMLVODSTATECHANGE
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {
		'_OffsetOf_iFrom' -> 16rC.
		'_OffsetOf_iTo' -> 16r10.
		'_OffsetOf_uNewState' -> 16r14.
		'_OffsetOf_uOldState' -> 16r18
	}!
NMHDR subclass: #NMTREEVIEWW
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {
		'_OffsetOf_action' -> 16rC.
		'_OffsetOf_itemNew' -> 16r38.
		'_OffsetOf_itemOld' -> 16r10.
		'_OffsetOf_ptDrag' -> 16r60
	}!
NMCUSTOMDRAW subclass: #NMLVCUSTOMDRAW
	instanceVariableNames: 'column'
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {
		'_OffsetOf_clrText' -> 16r30.
		'_OffsetOf_clrTextBk' -> 16r34.
		'_OffsetOf_iSubItem' -> 16r38
	}!
NMCUSTOMDRAW subclass: #NMTVCUSTOMDRAW
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {
		'_OffsetOf_clrText' -> 16r30.
		'_OffsetOf_clrTextBk' -> 16r34.
		'_OffsetOf_iLevel' -> 16r38
	}!
NMGETINFOTIP subclass: #NMLVGETINFOTIPW
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {
		'_OffsetOf_cchTextMax' -> 16r14.
		'_OffsetOf_dwFlags' -> 16rC.
		'_OffsetOf_iItem' -> 16r18.
		'_OffsetOf_iSubItem' -> 16r1C.
		'_OffsetOf_lParam' -> 16r20.
		'_OffsetOf_pszText' -> 16r10
	}!
NMGETINFOTIP subclass: #NMTVGETINFOTIPW
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {
		'_OffsetOf_cchTextMax' -> 16r10.
		'_OffsetOf_hItem' -> 16r14.
		'_OffsetOf_lParam' -> 16r18.
		'_OffsetOf_pszText' -> 16rC
	}!
ListControlView subclass: #IconicListAbstract
	instanceVariableNames: 'getImageBlock imageManager stateImageManager getInfoTipBlock customDrawBlock largeIconExtent thumbnailsImageManager'
	classVariableNames: 'ViewModes'
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
IconicListAbstract subclass: #ListView
	instanceVariableNames: 'lastClickedColIndex columns viewMode lastSelIndices iconSpacing lvStyle thumbnailExtent lvFlags backImage backImageOffset backImageAlpha approvedSelIndices _unused35 _unused36 _unused37 _unused38 _unused39 _unused40 _unused41 _unused42 _unused43 _unused44 _unused45'
	classVariableNames: 'LvModes SelectionStateMask UnknownItem'
	poolDictionaries: 'ListViewConstants'
	classInstanceVariableNames: ''
	classConstants: {
		'BackImageIsTiledMask' -> 16r1.
		'NoImageIndex' -> 16r0
	}!
IconicListAbstract subclass: #TabView
	instanceVariableNames: 'viewMode'
	classVariableNames: 'TabOrientations TabViewModes'
	poolDictionaries: 'TabViewConstants'
	classInstanceVariableNames: ''
	classConstants: {
		'OrientationMask' -> 16r82
	}!
IconicListAbstract subclass: #TreeView
	instanceVariableNames: 'handleObjectMap indentSeparation viewMode tvFlags objectHandleMap'
	classVariableNames: ''
	poolDictionaries: 'TreeViewConstants'
	classInstanceVariableNames: ''
	classConstants: {
		'DisableExpandAllMask' -> 16r1.
		'NonVirtualMask' -> 16r2.
		'UpdateModeMask' -> 16r6.
		'UpdateModes' -> #(#dynamic #static #lazy)
	}!
TabView subclass: #TabViewXP
	instanceVariableNames: '_tvxReserved0 lastSelection _tvxReserved1 _tvxReserved2 _tvxReserved3'
	classVariableNames: ''
	poolDictionaries: 'ThemeConstants'
	classInstanceVariableNames: ''
	classConstants: {}!

"Loose Methods"!

!FolderPresenter class methodsFor!

resource_Default_view
	"Answer the literal data from which the 'Default view' resource can be reconstituted.
	DO NOT EDIT OR RECATEGORIZE THIS METHOD.

	If you wish to modify this resource evaluate:
	ViewComposer openOn: (ResourceIdentifier class: self selector: #resource_Default_view)
	"

	^#(#'!!STL' 4 788558 10 ##(Smalltalk.STBViewProxy) ##(Smalltalk.ListView) 34 45 nil nil 34 2 8 1409372236 1025 416 590662 2 ##(Smalltalk.ListModel) 138 144 8 #() nil 1310726 ##(Smalltalk.IdentitySearchPolicy) 327686 ##(Smalltalk.Color) #default nil 5 nil nil nil 416 nil 8 1883852064 ##(Smalltalk.BasicListAbstract) ##(Smalltalk.IconicListAbstract) 1049926 1 ##(Smalltalk.IconImageManager) nil nil nil 328198 ##(Smalltalk.Point) 65 65 nil nil 138 144 34 1 920646 5 ##(Smalltalk.ListViewColumn) 8 'Column 1' 201 #left ##(Smalltalk.BasicListAbstract) 459270 ##(Smalltalk.Message) #<= 8 #() nil nil 416 nil 1 nil nil #largeIcons 528 nil 131169 nil 1 nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil 983302 ##(Smalltalk.MessageSequence) 138 144 34 2 721670 ##(Smalltalk.MessageSend) #createAt:extent: 34 2 658 7039 21 658 491 311 416 882 #text: 34 1 8 'Column 1' 416 983302 ##(Smalltalk.WINDOWPLACEMENT) 8 #[44 0 0 0 0 0 0 0 1 0 0 0 255 255 255 255 255 255 255 255 255 255 255 255 255 255 255 255 191 13 0 0 10 0 0 0 180 14 0 0 165 0 0 0] 8 #() 658 193 193 nil 35 )! !
!FolderPresenter class categoriesFor: #resource_Default_view!public!resources-views! !

!ListPresenter class methodsFor!

resource_Enhanced_list_view
	"Answer the literal data from which the 'Enhanced list view' resource can be reconstituted.
	DO NOT EDIT OR RECATEGORIZE THIS METHOD.

	If you wish to modify this resource evaluate:
	ViewComposer openOn: (ResourceIdentifier class: self selector: #resource_Enhanced_list_view)
	"

	^#(#'!!STL' 4 788558 10 ##(Smalltalk.STBViewProxy) ##(Smalltalk.ListView) 34 45 nil nil 34 2 8 1409355853 1025 416 590662 2 ##(Smalltalk.ListModel) 138 144 8 #() nil 1310726 ##(Smalltalk.IdentitySearchPolicy) 327686 ##(Smalltalk.Color) #default nil 5 nil nil nil 416 nil 8 1883852064 459270 ##(Smalltalk.Message) #displayString 8 #() ##(Smalltalk.IconicListAbstract) 1049926 1 ##(Smalltalk.IconImageManager) nil nil nil nil nil nil 138 144 34 1 920646 5 ##(Smalltalk.ListViewColumn) 8 'Column 1' 201 #left 626 #displayString 656 626 #<= 8 #() nil nil 416 nil 1 nil nil #report 528 nil 131169 nil 1 nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil 983302 ##(Smalltalk.MessageSequence) 138 144 34 2 721670 ##(Smalltalk.MessageSend) #createAt:extent: 34 2 328198 ##(Smalltalk.Point) 7039 21 946 491 311 416 898 #text: 34 1 8 'Column 1' 416 983302 ##(Smalltalk.WINDOWPLACEMENT) 8 #[44 0 0 0 0 0 0 0 1 0 0 0 255 255 255 255 255 255 255 255 255 255 255 255 255 255 255 255 191 13 0 0 10 0 0 0 180 14 0 0 165 0 0 0] 8 #() 946 193 193 nil 35 )!

resource_Tab_view
	"Answer the literal data from which the 'Tab view' resource can be reconstituted.
	DO NOT EDIT OR RECATEGORIZE THIS METHOD.

	If you wish to modify this resource evaluate:
	ViewComposer openOn: (ResourceIdentifier class: self selector: #resource_Tab_view)
	"

	^#(#'!!STL' 4 788558 10 ##(Smalltalk.STBViewProxy) ##(Smalltalk.TabViewXP) 34 28 nil nil 34 2 8 1409352192 1 416 590662 2 ##(Smalltalk.ListModel) 138 144 8 #() nil 1310726 ##(Smalltalk.IdentitySearchPolicy) 327686 ##(Smalltalk.Color) #face3d nil 5 nil nil nil 416 nil 8 1904010400 459270 ##(Smalltalk.Message) #displayString 8 #() ##(Smalltalk.IconicListAbstract) 1049926 1 ##(Smalltalk.IconImageManager) nil nil nil nil nil #noIcons nil nil nil nil nil 983302 ##(Smalltalk.MessageSequence) 138 144 34 2 721670 ##(Smalltalk.MessageSend) #createAt:extent: 34 2 328198 ##(Smalltalk.Point) 3839 21 818 701 61 416 770 #tcmSetExtendedStyle:dwExStyle: 8 #(-1 0) 416 983302 ##(Smalltalk.WINDOWPLACEMENT) 8 #[44 0 0 0 0 0 0 0 1 0 0 0 255 255 255 255 255 255 255 255 255 255 255 255 255 255 255 255 127 7 0 0 10 0 0 0 221 8 0 0 40 0 0 0] 8 #() 818 193 193 nil 27 )! !
!ListPresenter class categoriesFor: #resource_Enhanced_list_view!public!resources-views! !
!ListPresenter class categoriesFor: #resource_Tab_view!public!resources-views! !

"End of package definition"!

