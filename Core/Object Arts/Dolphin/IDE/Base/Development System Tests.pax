| package |
package := Package name: 'Development System Tests'.
package paxVersion: 2.1;
	preDeclareClassesOnLoad: false;
	basicComment: ''.


package setClassNames: #(
	#{Kernel.CompiledMethodTest}
	#{Kernel.Tests.AbstractParserErrorTest}
	#{Kernel.Tests.CompiledMethodTest}
	#{Kernel.Tests.CompilerErrorTest}
	#{Kernel.Tests.CompilerTest}
	#{Kernel.Tests.CompilerTestClasses}
	#{Kernel.Tests.DolphinCompilerTestMethods}
	#{Kernel.Tests.DolphinCompilerTestMethodsSubclass}
	#{Smalltalk.ImageListViewTest}
	#{Kernel.Tests.ParserTest}
	#{Kernel.Tests.VMTest}
	#{OS.Tests.RegKeyTest}
	#{Smalltalk.KeyedAspectTest}
	#{Smalltalk.MethodCategoryEnvironmentTest}
	#{Smalltalk.MenuPainterTest}
	#{Smalltalk.PackageEnvironmentTest}
	#{Smalltalk.PluggableEnvironmentTest}
	#{Smalltalk.ProductReleaseTest}
	#{Smalltalk.RewriteTestCase}
	#{Smalltalk.SmalltalkSystemTest}
	#{Smalltalk.SmalltalkWorkspaceTest}
	#{Smalltalk.StStyler}
	#{Smalltalk.VersionResourceTest}
	#{Smalltalk.XMLDOMNodeTest}
).

package setMethodNames: #(
	#(#{UI.Tests.BorderLayoutTest} #testResourceBrowserPreview)
	#(#{External.Tests.INTEGERTest} #testPrintOnNull)
	#(#{External.Tests.INTEGERTest} #testPrintOnSigned)
	#(#{External.Tests.INTEGERTest} #testPrintOnUnsigned)
	#(#{UI.Tests.ScintillaViewTest} #testTokensFromTo)
	yourself.

package setPrerequisites: #(
	'..\Community Edition\ActiveX Automation Development'
	'..\..\..\Samples\MVP\Animal Game\Animals'
	'..\..\System\Continuations\Continuation Tests'
	'Development System'
	'..\..\Base\Dolphin'
	'..\..\Base\Dolphin Base Tests'
	'..\..\System\Base64\Dolphin Base64'
	'..\..\MVP\Base\Dolphin Basic Geometry'
	'..\..\MVP\Views\Common Controls\Dolphin Common Controls'
	'..\..\MVP\Dialogs\Common\Dolphin Common Dialogs'
	'..\..\Base\Dolphin Legacy Date & Time'
	'..\..\MVP\Base\Dolphin MVP Base'
	'..\..\MVP\Dolphin MVP Tests'
	'..\..\Registry\Dolphin Registry Access'
	'..\..\Lagoon\Lagoon Image Stripper'
	'..\..\ActiveX\COM\OLE COM'
	'..\..\..\..\Contributions\Refactory\Refactoring Browser\Environments\RBEnvironments'
	'..\..\..\..\Contributions\Refactory\Refactoring Browser\SmallLint\RBSmallLint'
	'..\..\..\..\Contributions\Refactory\Refactoring Browser\Tests\RBTests'
	'..\..\System\Compiler\Smalltalk Parser'
	'..\..\..\..\Contributions\Camp Smalltalk\SUnit\SUnit'
	'..\..\ActiveX\Components\XML DOM\XML DOM'
).

package!

"Class Definitions"!

Core.Object subclass: #'Kernel.Tests.DolphinCompilerTestMethods'
	instanceVariableNames: 'iv1 iv2'
	classVariableNames: ''
	imports: #()
	classInstanceVariableNames: ''
	classConstants: {
		'Const' -> 16r1
	}!
Kernel.Tests.DolphinCompilerTestMethods subclass: #'Kernel.Tests.DolphinCompilerTestMethodsSubclass'
	instanceVariableNames: ''
	classVariableNames: ''
	imports: #()
	classInstanceVariableNames: ''
	classConstants: {}!
Kernel.ParseNodeVisitor subclass: #StStyler
	instanceVariableNames: 'view arrayDepth'
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
XProgramming.SUnit.TestCase subclass: #RewriteTestCase
	instanceVariableNames: 'env'
	classVariableNames: ''
	imports: #()
	classInstanceVariableNames: ''
	classConstants: {}!
Core.Tests.DolphinTest subclass: #'Kernel.Tests.AbstractParserErrorTest'
	instanceVariableNames: 'errors'
	classVariableNames: ''
	imports: #(#{Kernel.ParseErrorCodes} #{External})
	classInstanceVariableNames: ''
	classConstants: {}!
Core.Tests.DolphinTest subclass: #'Kernel.Tests.CompiledMethodTest'
	instanceVariableNames: ''
	classVariableNames: ''
	imports: #()
	classInstanceVariableNames: ''
	classConstants: {}!
Core.Tests.DolphinTest subclass: #'Kernel.Tests.CompilerTest'
	instanceVariableNames: 'defaultCompileFlags'
	classVariableNames: 'TempInstrs'
	imports: #(#{Kernel.CompilerFlags} #{Kernel.OpcodePool} #{Kernel.ParseErrorCodes})
	classInstanceVariableNames: ''
	classConstants: {}!
Core.Tests.DolphinTest subclass: #KeyedAspectTest
	instanceVariableNames: ''
	classVariableNames: ''
	imports: #()
	classInstanceVariableNames: ''
	classConstants: {}!
Core.Tests.DolphinTest subclass: #MenuPainterTest
	instanceVariableNames: ''
	classVariableNames: ''
	imports: #()
	classInstanceVariableNames: ''
	classConstants: {}!
Core.Tests.DolphinTest subclass: #'Kernel.Tests.ParserTest'
	instanceVariableNames: ''
	classVariableNames: ''
	imports: #(#{External.ExtCallArgTypes} #{Kernel.ParseErrorCodes})
	classInstanceVariableNames: ''
	classConstants: {}!
Core.Tests.DolphinTest subclass: #ProductReleaseTest
	instanceVariableNames: ''
	classVariableNames: ''
	imports: #()
	classInstanceVariableNames: ''
	classConstants: {}!
Core.Tests.DolphinTest subclass: #'OS.Tests.RegKeyTest'
	instanceVariableNames: 'testKey'
	classVariableNames: ''
	imports: #()
	classInstanceVariableNames: ''
	classConstants: {}!
Core.Tests.DolphinTest subclass: #SmalltalkSystemTest
	instanceVariableNames: 'devsys'
	classVariableNames: ''
	imports: #()
	classInstanceVariableNames: ''
	classConstants: {}!
Core.Tests.DolphinTest subclass: #VersionResourceTest
	instanceVariableNames: 'updatePath sourceModule sourceSize sourceBytes'
	classVariableNames: ''
	imports: #()
	classInstanceVariableNames: ''
	classConstants: {}!
Core.Tests.DolphinTest subclass: #'Kernel.Tests.VMTest'
	instanceVariableNames: 'expiryHandler'
	classVariableNames: ''
	imports: #(#{OS.CRTConstants})
	classInstanceVariableNames: ''
	classConstants: {}!
Core.Tests.DolphinTest subclass: #XMLDOMNodeTest
	instanceVariableNames: ''
	classVariableNames: ''
	imports: #()
	classInstanceVariableNames: ''
	classConstants: {}!
Kernel.Tests.AbstractParserErrorTest subclass: #'Kernel.Tests.CompilerErrorTest'
	instanceVariableNames: ''
	classVariableNames: ''
	imports: #()
	classInstanceVariableNames: ''
	classConstants: {}!
UI.Tests.PresenterTest subclass: #SmalltalkWorkspaceTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
UI.Tests.ImageViewAbstractTest subclass: #ImageListViewTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
Refactory.Browser.Tests.BrowserEnvironmentTest subclass: #MethodCategoryEnvironmentTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	classInstanceVariableNames: ''
	classConstants: {}!
Refactory.Browser.Tests.BrowserEnvironmentTest subclass: #PackageEnvironmentTest
	instanceVariableNames: ''
	classVariableNames: ''
	imports: #()
	classInstanceVariableNames: ''
	classConstants: {}!
Refactory.Browser.Tests.BrowserEnvironmentTest subclass: #PluggableEnvironmentTest
	instanceVariableNames: ''
	classVariableNames: ''
	imports: #()
	classInstanceVariableNames: ''
	classConstants: {}!
Core.Tests.DolphinTestClassResource subclass: #'Kernel.Tests.CompilerTestClasses'
	instanceVariableNames: 'testClass'
	classVariableNames: ''
	imports: #()
	classInstanceVariableNames: ''
	classConstants: {}!

"Variable Aliases"!

"Loose Methods"!

!UI.Tests.BorderLayoutTest methodsFor!

testResourceBrowserPreview
	"#1758"

	| resourceId resourceView bmp toolbox resources |
	resourceId := ResourceIdentifier class: ResourceBrowser name: 'Default view'.
	resourceView := 
			[Smalltalk developmentSystem loadViewResource: resourceId resource inContext: View desktop]
					on: Error
					do: [:x | ].
	bmp := resourceView notNil
				ifTrue: 
					[resourceView invalidateLayoutDeeply.
					Bitmap fromView: resourceView]
				ifFalse: [Error icon].
	toolbox := resourceView viewNamed: 'resourceToolbox'.
	resources := resourceView viewNamed: 'resources'.
	self assert: (resources viewNamed: 'resources') extent x equals: resources extent x.
	resourceView destroy! !
!UI.Tests.BorderLayoutTest categoriesFor: #testResourceBrowserPreview!public!unit tests! !

!External.Tests.INTEGERTest methodsFor!

testPrintOnNull
	| subject |
	subject := DWORD new.
	self assert: subject printString equals: 'a DWORD(0)'!

testPrintOnSigned
	| subject |
	subject := SDWORD fromInteger: 123.
	self assert: subject printString equals: 'a SDWORD(123)'!

testPrintOnUnsigned
	| subject |
	subject := DWORD fromInteger: 123.
	self assert: subject printString equals: 'a DWORD(16r7B)'! !
!External.Tests.INTEGERTest categoriesFor: #testPrintOnNull!public!unit tests! !
!External.Tests.INTEGERTest categoriesFor: #testPrintOnSigned!public!unit tests! !
!External.Tests.INTEGERTest categoriesFor: #testPrintOnUnsigned!public!unit tests! !

!UI.Tests.ScintillaViewTest methodsFor!

testTokensFromTo
	| tokens expected styler |
	presenter textStyles: SmalltalkWorkspace textStyles.
	presenter stylerClass: SmalltalkExpressionStyler.
	styler := StStyler new.
	#('' ' ' ' 	 ' ' a' 'a ' ' a ' ' a #a' 'a #a ' ' a #a ' ' a #a 1.2 '''' ''blah blah'' (') do: 
			[:text |
			presenter text: text.
			presenter restyleAll.
			tokens := (presenter tokensFrom: 1 to: presenter textLength) asArray.
			expected := (SmalltalkScanner on: presenter text readStream) contents
						collect: [:each | (styler styleNameFor: each) -> (text copyFrom: each start to: each stop)].
			self assert: tokens equals: expected]! !
!UI.Tests.ScintillaViewTest categoriesFor: #testTokensFromTo!public!unit tests! !

"End of package definition"!

